

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mallu Bird</title>
<style>
  body {
    margin: 0;
    background: #f3e5dc; /* complementary to maroon */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: Arial, sans-serif;
  }

  .game-title {
    font-size: 48px;
    font-weight: bold;
    color: #5a0f1b;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    margin-bottom: 20px;
    text-align: center;
    font-family: 'Arial Black', Arial, sans-serif;
  }

  #game {
    position: relative;
    width: 320px;
    height: 480px;
    background: 
      linear-gradient(to bottom, 
        #87CEEB 0%,     /* Sky blue */
        #87CEEB 70%,    /* Sky blue */
        #90EE90 70%,    /* Light green */
        #228B22 100%    /* Forest green */
      );
    overflow: hidden;
    border: 4px solid #5a0f1b;
    border-radius: 10px;
  }

  #bird {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 200px;
    left: 50px;
    background: url("head.png") no-repeat center/cover;
    border-radius: 50%;
  }

  .pipe {
    position: absolute;
    width: 50px;
    background: 
      linear-gradient(90deg, 
        #8B4513 0%, #8B4513 48%, #654321 50%, #654321 98%, #8B4513 100%
      ),
      linear-gradient(0deg, 
        #8B4513 0%, #8B4513 48%, #654321 50%, #654321 98%, #8B4513 100%
      );
    background-size: 12px 8px, 8px 12px;
    background-position: 0 0, 6px 4px;
    border: 2px solid #654321;
    border-radius: 6px;
    box-shadow: inset 1px 1px 2px rgba(255,255,255,0.3), 
                inset -1px -1px 2px rgba(0,0,0,0.3);
  }

  .pipe.top {
    top: 0;
  }

  .pipe.bottom {
    bottom: 0;
  }

  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 24px;
    color: #6b0f1a;
    font-weight: bold;
  }

  #gameOver {
    display: none;
    position: absolute;
    top: 35%;
    width: 100%;
    text-align: center;
    color: #6b0f1a;
  }

  #winScreen {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  #winScreen.show {
    display: flex;
  }

  .win-content {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 40px;
  }

  .congrats-box {
    background: white;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.5);
    animation: slideIn 1s ease-out;
  }

  .win-text {
    color: #6b0f1a;
    text-align: center;
  }

  .win-text h1 {
    font-size: 32px;
    margin: 0 0 20px 0;
    color: #e91e63;
  }

  .win-text p {
    font-size: 18px;
    margin: 10px 0;
    line-height: 1.4;
  }

  #winScreen img {
    width: 250px;
    height: 400px;
    border-radius: 15px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    animation: bounceIn 1.2s ease-out;
  }

  @keyframes slideIn {
    from {
      transform: scale(0.5) translateY(-100px);
      opacity: 0;
    }
    to {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }

  @keyframes bounceIn {
    0% {
      transform: scale(0) rotate(-180deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.1) rotate(0deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  /* Confetti Animation */
  .confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #e91e63;
    animation: confetti-fall linear infinite;
  }

  .confetti:nth-child(1) { left: 10%; animation-duration: 3s; background: #ff6b9d; }
  .confetti:nth-child(2) { left: 20%; animation-duration: 2.5s; background: #ffd93d; animation-delay: 0.3s; }
  .confetti:nth-child(3) { left: 30%; animation-duration: 3.2s; background: #6bcf7e; animation-delay: 0.6s; }
  .confetti:nth-child(4) { left: 40%; animation-duration: 2.8s; background: #4d9de0; animation-delay: 0.9s; }
  .confetti:nth-child(5) { left: 50%; animation-duration: 3.5s; background: #e15759; animation-delay: 1.2s; }
  .confetti:nth-child(6) { left: 60%; animation-duration: 2.7s; background: #ff6b9d; animation-delay: 1.5s; }
  .confetti:nth-child(7) { left: 70%; animation-duration: 3.1s; background: #ffd93d; animation-delay: 1.8s; }
  .confetti:nth-child(8) { left: 80%; animation-duration: 2.9s; background: #6bcf7e; animation-delay: 2.1s; }
  .confetti:nth-child(9) { left: 90%; animation-duration: 3.3s; background: #4d9de0; animation-delay: 2.4s; }
  .confetti:nth-child(10) { left: 15%; animation-duration: 2.6s; background: #e15759; animation-delay: 2.7s; }

  @keyframes confetti-fall {
    0% {
      transform: translateY(-100vh) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  /* Mobile Responsive Styles */
  @media screen and (max-width: 768px) {
    body {
      padding: 10px;
    }

    .game-title {
      font-size: 36px;
      margin-bottom: 15px;
    }

    #game {
      width: 90vw;
      max-width: 320px;
      height: 70vh;
      max-height: 480px;
    }

    .win-content {
      flex-direction: column !important;
      gap: 20px;
      padding: 20px;
    }

    .congrats-box {
      padding: 25px;
      width: 90%;
      box-sizing: border-box;
    }

    #winScreen img {
      width: 200px;
      height: 200px;
    }

    .win-text h1 {
      font-size: 24px;
    }

    .win-text p {
      font-size: 16px;
    }
  }
</style>
</head>
<body>

<div class="game-title">Mallu Bird</div>

<div id="game">
  <div id="bird"></div>
  <div id="score">0</div>

  <div id="gameOver">
    <h2>You Lost ðŸ’”</h2>
    <p>Tap to retry</p>
  </div>

  <div id="winScreen">
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    
    <div class="win-content">
      <img src="won.PNG" alt="You Won">
      <div class="congrats-box">
        <div class="win-text">
          <h1>ðŸŽ‰ Congratulations! ðŸŽ‰</h1>
          <p><strong>Manish asks you to be his valentine as your reward</strong></p>
          <p style="font-size: 16px; margin-top: 20px; color: #666;">Click to play again</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Sounds -->
<audio id="loseSound" src="fahhhhh.mp3"></audio>

<script>
const game = document.getElementById("game");
const bird = document.getElementById("bird");
const scoreEl = document.getElementById("score");
const gameOverEl = document.getElementById("gameOver");
const winScreen = document.getElementById("winScreen");

const loseSound = document.getElementById("loseSound");

let birdY = 200;
let velocity = 0;
let gravity = 0.4;
let jump = -6;

let pipes = [];
let pipeGap = 160;
let pipeSpeed = 2;
let score = 0;
let gameOver = false;
let gameWon = false;

/* =========================
   CONTROLS
========================= */
document.addEventListener("keydown", function(event) {
  if (event.code === "Space") {
    event.preventDefault(); // Prevent page scrolling
    // Don't allow space to restart when win screen is showing
    if (!gameWon) {
      flap();
    }
  }
});

// Desktop and mobile click handlers
game.addEventListener("click", function() {
  // Only allow game area clicks when not on win screen
  if (!gameWon) {
    flap();
  }
});

// Mobile touch handlers for better responsiveness
game.addEventListener("touchstart", function(event) {
  event.preventDefault(); // Prevent scrolling and zoom
  if (!gameWon) {
    flap();
  }
});

winScreen.addEventListener("click", function() {
  if (gameWon) restart();
});

winScreen.addEventListener("touchstart", function(event) {
  event.preventDefault();
  if (gameWon) restart();
});

function flap() {
  if (gameOver || gameWon) restart();
  velocity = jump;
}

/* =========================
   PIPE CREATION
========================= */
function createPipe() {
  if (gameOver || gameWon) return;

  const pipeX = 320;
  const topHeight = Math.random() * 200 + 50;
  const bottomHeight = 480 - topHeight - pipeGap;

  const topPipe = document.createElement("div");
  topPipe.className = "pipe top";
  topPipe.style.height = topHeight + "px";
  topPipe.style.left = pipeX + "px";

  const bottomPipe = document.createElement("div");
  bottomPipe.className = "pipe bottom";
  bottomPipe.style.height = bottomHeight + "px";
  bottomPipe.style.left = pipeX + "px";

  game.appendChild(topPipe);
  game.appendChild(bottomPipe);

  pipes.push({ top: topPipe, bottom: bottomPipe, x: pipeX, scored: false });
}

/* =========================
   GAME LOOP
========================= */
function update() {
  if (gameOver || gameWon) return;

  velocity += gravity;
  birdY += velocity;
  bird.style.top = birdY + "px";

  if (birdY <= 0 || birdY >= 444) lose();

  pipes.forEach((pipe, index) => {
    pipe.x -= pipeSpeed;
    pipe.top.style.left = pipe.x + "px";
    pipe.bottom.style.left = pipe.x + "px";

    // Collision
    if (
      pipe.x < 86 &&
      pipe.x + 50 > 50 &&
      (birdY < pipe.top.offsetHeight ||
       birdY + 36 > 480 - pipe.bottom.offsetHeight)
    ) {
      lose();
    }

    // Score
    if (!pipe.scored && pipe.x < 50) {
      pipe.scored = true;
      score++;
      scoreEl.textContent = score;

      if (score === 10) win();
    }

    if (pipe.x < -50) {
      game.removeChild(pipe.top);
      game.removeChild(pipe.bottom);
      pipes.splice(index, 1);
    }
  });

  requestAnimationFrame(update);
}

/* =========================
   LOSE / WIN
========================= */
function lose() {
  if (gameOver) return;
  gameOver = true;
  loseSound.play();
  gameOverEl.style.display = "block";
}

function win() {
  gameWon = true;
  winScreen.classList.add("show");
}

function restart() {
  birdY = 200;
  velocity = 0;
  score = 0;
  scoreEl.textContent = score;

  pipes.forEach(p => {
    game.removeChild(p.top);
    game.removeChild(p.bottom);
  });

  pipes = [];
  gameOver = false;
  gameWon = false;
  gameOverEl.style.display = "none";
  winScreen.classList.remove("show");
  update();
}

/* =========================
   START GAME
========================= */
setInterval(createPipe, 1500);
update();
</script>

</body>
</html>
